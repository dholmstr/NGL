<!DOCTYPE html>
<html>
<head>
    <title>Never Get Lost</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/style.css" />
    <script src="lib/jquery.js"></script>
    <script src="lib/class_manager.js"></script>
    <script src="lib/cache.js"></script>
    <script src="lib/translator.js"></script>
    <script src="lib/digitransit_manager.js"></script>
    <script src="lib/map_manager.js"></script>
    <script src="lib/manager.js"></script>
</head>
<body>
<header>
    <div class="container clearfix">
        <div class="logo-wrap">
            <span class="logo"></span>
            <span>Never Get Lost</span>
        </div>
        <div class="sound-control-wrap">
            <input type="hidden" id="sound-input" value="0" />
            <button id="sound-button" class="sound-button in"></button>
        </div>
    </div>
</header>
<main>
    <div class="container">
        <section id="step-from">
            <label for="input-from">From this address</label>
            <input id="input-from" name="from" type="text" size="35" placeholder="From" required="required" />
        </section>
        <section id="step-to">
            <label for="input-to">To this address</label>
            <input id="input-to" name="to" type="text" size="35" placeholder="To" required="required" />
        </section>
        <section id="step-routes"></section>
        <section id="step-map">
            <div id="map-container"></div>
        </section>
    </div>
</main>
<div class="control-panel" id="control-panel">
    <div class="container clearfix">
        <button id="button-next" class="button right main"><span>Next</span></button>
        <button id="button-go" class="button right main"><span>&gt;&gt;</span></button>
        <button id="button-reset" class="button left"><span>Reset</span></button>
        <button id="button-back" class="button left"><span>Back</span></button>
        <button id="button-go-back" class="button left"><span>&lt;&lt;</span></button>
    </div>
</div>
<footer>
    <div class="container">
        <div class="info-panel">
            <div id="map-directions-container"></div>
        </div>
    </div>
</footer>
<script>
    $(document).on('ready', function(){
        $('main').css({
            'min-height': $(window).height() - $('header').height() - $('#control-panel').first().height() - $('footer').height() - 20 + 'px'
        });

        var section = $('main').find('section').first();
        if(typeof section === 'object' && section.length > 0){
            $('#map-container').css({
                'height': $('main').height()
                - parseInt($(section).css('margin-top'))
                - parseInt($(section).css('margin-bottom'))
                - parseInt($(section).css('padding-top'))
                - parseInt($(section).css('padding-bottom'))
                + 'px'
            });
        }

        var soundInput = $('#sound-input').first();
        $('#sound-button').on('click', function(){
            if($(this).hasClass('active')){
                $(this).removeClass('active');
                $(soundInput).val(0);
            } else {
                $(this).addClass('active');
                $(soundInput).val(1);
            }
        });

        var manager = new Manager();
    });
</script>
</body>
</html>